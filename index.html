<!DOCTYPE html>
<html lang="ms">
<head>
<meta charset="UTF-8">
<title>Time Capsule: 10 Years</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Caveat&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">

<style>
:root {
  --bg:#d8f5e3;
  --card:rgba(220,255,230,0.9);
  --accent:#7fbfa3;
  --soft:#4f8f75;
  --text:#1f3b30;
  --muted:#6c8f80;
}
body.dark{
  --bg:#0e1c17;
  --card:rgba(22,45,37,0.9);
  --accent:#9fd3b8;
  --soft:#cfeee0;
  --text:#eef7f2;
  --muted:#8faea2;
}
*{margin:0;padding:0;box-sizing:border-box;}
html, body{
  height: 100%;
}
body{
  font-family:'Quicksand',sans-serif;
  background:radial-gradient(circle at top left,rgba(127,191,163,0.3),transparent 40%),
             radial-gradient(circle at bottom right,rgba(159,211,184,0.3),transparent 40%),
             var(--bg);
  color:var(--text);
  transition:0.4s;
  overflow-x:hidden;
  overflow-y:auto;
  scroll-behavior: smooth;
}
section{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:60px 20px;
  position:relative;
}
section::before{
  content:"";
  position:absolute;
  width:280px;
  height:280px;
  background:rgba(127,191,163,0.15);
  border-radius:50%;
  filter:blur(80px);
  top:10%;
  left:-100px;
  z-index:0;
  animation:float1 10s infinite alternate ease-in-out;
}
section::after{
  content:"";
  position:absolute;
  width:300px;
  height:300px;
  background:rgba(159,211,184,0.18);
  border-radius:50%;
  filter:blur(90px);
  bottom:10%;
  right:-120px;
  z-index:0;
  animation:float2 12s infinite alternate ease-in-out;
}
@keyframes float1{
  0% { transform: translateY(0) translateX(0); }
  50% { transform: translateY(20px) translateX(10px); }
  100% { transform: translateY(0) translateX(0); }
}
@keyframes float2{
  0% { transform: translateY(0) translateX(0); }
  50% { transform: translateY(-20px) translateX(-10px); }
  100% { transform: translateY(0) translateX(0); }
}
.card{
  position:relative;
  z-index:1;
  max-width:800px;
  width:100%;
  padding:50px;
  border-radius:30px;
  background:var(--card);
  backdrop-filter:blur(12px);
  box-shadow:0 40px 80px rgba(0,0,0,0.15);
  transition:0.4s;
}
h1,h2,h3{font-family:'Caveat',cursive;color:var(--soft);margin-bottom:15px;}
h1{font-size:3rem;}
p{margin-bottom:15px;}
.small{font-size:0.9rem;color:var(--muted);}
.divider{height:2px;width:100%;background:linear-gradient(to right,transparent,var(--accent),transparent);margin:35px 0;opacity:0.5;}
input,textarea{
  width:100%;
  background:rgba(127,191,163,0.12);
  border:1px solid rgba(127,191,163,0.25);
  border-radius:16px;
  padding:14px;
  color:var(--text);
  margin-bottom:12px;
  font-family:inherit;
  transition:0.3s;
}
textarea{min-height:90px;}
input:focus,textarea:focus{outline:none;border-color:var(--accent);background:rgba(127,191,163,0.18);}
button{
  background:none;
  border:1px solid var(--accent);
  color:var(--accent);
  padding:12px 34px;
  border-radius:999px;
  cursor:pointer;
  transition:0.3s;
  font-size:1rem;
}
button:hover{background:var(--accent);color:var(--bg);}
.menu-buttons button{width:100%;margin-bottom:16px;}
.block{
  padding:25px;
  border-radius:22px;
  background:linear-gradient(to bottom right,rgba(127,191,163,0.15),rgba(127,191,163,0.03));
  margin-bottom:35px;
  box-shadow:0 10px 25px rgba(0,0,0,0.08);
}
.label{font-size:0.8rem;color:var(--muted);margin-bottom:6px;}
.toggle{position:fixed;top:20px;right:20px;width:46px;height:46px;border-radius:50%;font-size:1.2rem;z-index:99;}
.nav{margin-top:30px;text-align:right;}
.locked-overlay{
  position:fixed;
  top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.85);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:2rem;
  text-align:center;
  z-index:999;
  padding:20px;
  display:none;
}
</style>
</head>
<body class="dark">

<button class="toggle" onclick="toggleMode()">ðŸŒ™</button>
<button style="position:fixed;top:80px;right:20px;z-index:100;" onclick="lockSite()">Lock Website</button>
<div class="locked-overlay" id="lockedOverlay">Website terkunci sehingga 28 Disember 2035</div>

<section id="menu">
  <div class="card" style="text-align:center">
    <p class="small">Untuk aku,</p>
    <h1>10 Tahun Akan Datang</h1>
    <div class="divider"></div>
    <div class="menu-buttons">
      <button onclick="go('stats')">About Me</button>
      <button onclick="go('questions')">Questions from 14-year-old me</button>
      <button onclick="go('life')">My current life sounds like</button>
    </div>
    <p class="small">10 years already? Wow.</p>
  </div>
</section>

<section id="stats">
  <div class="card">
    <h2>About Me</h2>
    <div class="divider"></div>
    <div class="block">

       14 Years Old Me: <br>
        <div class="label">Favourite Colour: Hijau <br>
        Ketinggian: 144/145 cm<br>
        Berat: 37 or 38kg <br>
        Hobby: Guitar, rubiks cube, manhwa, coding maybe?<br>
        Status: Single <br>
        Crush: - <br>
        Favourite Subject: Math <br>
        Favourite ice cream flavour: Mint Chocolate Chip <br>
        Current money: RM 57 <br>
        Love language: Physical Touch, Acts of Service, Time Quality, Gift Giving<br>
        Learned Calisthenic Skills: Frog Pose, Crow Pose, Elbow Lever<br>
        Current Home: Sibu Jaya, Sarawak<br>
        Sexuality: Lesbian<br> </div>
        </div>
          <div class="divider"></div>
    <div class="block">
      <div class="label">Masa depan</div>
      <input id="statsFuture">
    </div>
    <div class="nav">
      <button onclick="submitAnswers()">Submit Answers</button>
      <button onclick="go('menu')">Menu</button>
    </div>
  </div>
</section>

<section id="questions">
  <div class="card">
    <h2>Questions from 14-year-old me</h2>
    <div class="divider"></div>
    <div class="block">
      <h3>Masih bsf dengan Janelvy?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
        <div class="block">
      <h3>Dapat masuk aliran computer sains tak??</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
        <div class="block">
      <h3>Dapat masuk University?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
        <div class="block">
      <h3>Sekolah menengah, ada wakil sekolah?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
        <div class="block">
      <h3>any girlfriend? or ex-girlfriend? or even, boyfriend?<h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
        <div class="block">
      <h3>Masih suka main guitar and rubiks?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
        <div class="block">
      <h3>Still do calisthenics?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
            <div class="block">
      <h3>SPM berapa A?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
            <div class="block">
      <h3>Best tak ada bilik sendiri?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
            <div class="block">
      <h3>Study abroad?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
            <div class="block">
      <h3>What's ur current phone?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
            <div class="block">
      <h3>Dapat experience apartment?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
            <div class="block">
      <h3>Stary Kids disbanded, what happen to our K-pop girl era?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
                <div class="block">
      <h3>What something you regret so much?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
                <div class="block">
      <h3>Have you suprise Janelvy for her birthday yet?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
                <div class="block">
      <h3>Dah kahwin? Let me guess, no?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
                <div class="block">
      <h3>Ada bela anjing? atau kucing?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
                <div class="block">
      <h3>How about our dream house??</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
                <div class="block">
      <h3>You have a job? If yes, what is it?</h3>
      <div class="label">Masa depan</div>
      <textarea id="qFuture"></textarea>
    </div>
  </div>
    <div class="nav">
      <button onclick="submitAnswers()">Submit Answers</button>
      <button onclick="go('menu')">Menu</button>
    </div>
  </div>
</section>

<section id="life">
  <div class="card">
    <h2>My current life sounds like</h2>
    <div class="divider"></div>
    <div class="block">
       14 Years Old Me: <br>
        <div class="label"> Decent life. Masih takde phone. No one to talk to. All alone. Afraid of big crowd. Banyak peluang terlepas sebab aku takut. Aku paling sayang Janelvy (sebagai bsf). IDK what to do in the future. Aku takde cita-cita untuk dikejar. Aku malas nak study but, nanti orang cakap "Bukan dulu kau pandai ke? Kenapa sekrang jadi bodoh?" Balik sekolah selalunya jalan kaki. 3 or 4 km je pun, apalah sangat. Im afraid of being alone but I like to be alone. Let's have a little conversation. <br>
            So, how's 2035 meme? In 2025, phonk became popular. W speed edit. 67. Tuff baby. Dexter "I know ________. I just cant prove it". Brainrot shit. White rabbit. Tu jelah aku ingat. kalau 2024, aaa kasihan aaa. <br> And yeah I think thats all for now. problaly gonna regret tak ulis banyak sikit. I hope we're sucess. <br>

            <div class="divider"></div>
    <div class="block">
      <div class="label">Masa depan</div>
      <input id="lifeFuture">
    </div>
    <div class="nav">
      <button onclick="submitAnswers()">Submit Answers</button>
      <button onclick="go('menu')">Menu</button>
    </div>
  </div>
</section>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyByDndGubNU6CQ5kXv--7XpqT0ua7_XZiw",
  authDomain: "in10years-a783f.firebaseapp.com",
  projectId: "in10years-a783f",
  storageBucket: "in10years-a783f.firebasestorage.app",
  messagingSenderId: "748765498602",
  appId: "1:748765498602:web:e47b12cac24aca463f9b93",
  measurementId: "G-FPG15CSX76"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// Scroll & mode
function go(id){
  const el = document.getElementById(id);
  if(el){
    const rect = el.getBoundingClientRect();
    const topPos = rect.top + window.pageYOffset - 20; // Restore -20px offset
    window.scrollTo({ top: topPos, behavior: 'smooth' });
  }
}

function toggleMode(){
  document.body.classList.toggle("dark");
  document.querySelector(".toggle").textContent = document.body.classList.contains("dark") ? "ðŸŒ™" : "â˜€ï¸";
}

// Submit answers
async function submitAnswers(){
  const futureData = {
    statsFuture: document.getElementById("statsFuture").value,
    qFuture: document.getElementById("qFuture").value,
    lifeFuture: document.getElementById("lifeFuture").value
  };
  try{
    await setDoc(doc(db,"timeCapsule","futureAnswers"), futureData, { merge: true });
    alert("Jawapan telah disimpan! Future answers sync ke Firebase.");
  }catch(e){console.error(e); alert("Gagal simpan future answers.");}
}

// Load saved answers
function loadAnswers(){
  getDoc(doc(db,"timeCapsule","futureAnswers")).then(docSnap=>{
    if(docSnap.exists()){
      const data = docSnap.data();
      document.getElementById("statsFuture").value = data.statsFuture || "";
      document.getElementById("qFuture").value = data.qFuture || "";
      document.getElementById("lifeFuture").value = data.lifeFuture || "";
    }
  });
}

// Lock website
function lockSite(){
  if(confirm("Anda pasti mahu lock website sehingga 28 Disember 2035?")){
    localStorage.setItem("lockedUntil","2035-12-28T00:00:00");
    applyLock();
  }
}
function applyLock(){
  const overlay = document.getElementById("lockedOverlay");
  const lockTime = new Date(localStorage.getItem("lockedUntil"));
  const now = new Date();
  if(lockTime && now<lockTime){
    overlay.style.display="flex";
    document.querySelectorAll("input,textarea,button").forEach(el=>el.disabled=true);
  }else overlay.style.display="none";
}

// Auto-scroll jika URL ada hash (100% stabil)
window.addEventListener("load", () => {
  const hash = window.location.hash.substring(1);
  if(hash){
    setTimeout(() => { // Increase delay for layout stability
      go(hash);
    }, 500); // Try 500ms; increase to 1000ms if needed
  }
});

// Init
loadAnswers();
applyLock();

// Expose functions to global scope for onclick attributes
window.go = go;
window.toggleMode = toggleMode;
window.submitAnswers = submitAnswers;
window.lockSite = lockSite;
</script>

</body>
</html>
